---
title: "Netflix movies"
author: "Tamas Nagy"
date: "4/29/2021"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Netflix

```{r setup}
library(tidyverse)
library(lubridate)
library(scales)

theme_set(theme_light())

```


```{r}
nx_raw <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-04-20/netflix_titles.csv')

nx <- 
    nx_raw %>% 
    mutate(date_added = mdy(date_added))

```


```{r}

nx %>% 
    count(year = year(date_added), type) %>% 
    filter(year < 2021) %>% 
    ggplot() +
    aes(x = year, y = n, color = type) +
    geom_line(size = 1.2, alpha = .7) +
    scale_x_continuous(breaks = pretty_breaks()) +
    labs(title = "Number of movies/TV shows across years")
    

```

```{r}

nx %>% 
    count(year = year(date_added), rating, type) %>% 
    ggplot() +
    aes(x = year, y = rating, fill = n) +
    geom_tile() +
    scale_fill_viridis_c() +
    facet_wrap(~type) +
    labs(title = "Movie rating frequency across years")

```


